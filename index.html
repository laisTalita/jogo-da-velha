<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Jogo da velha</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>    <link rel="stylesheet" href="estilo/style.css">
    
</head>
<body>
        
    <section id="boas">
    <h1>Jogo da velha </h1>
       
     
        <main>
          
            <div  class="input">
                    <input type="text" id="jogador1" placeholder="Name" >
                    <i class='bx bx-x' id="jog1"></i>
                    <br>
                    <input type="text" id="jogador2" placeholder= "Name" >
                    <i class='bx bx-radio-circle' id="jog2"></i>
                </div>
              
            
        </main>
        <input type="button" value="iniciar" id="inicio" onclick="desap()">
    </section>

    <section id="inicioJ">

        <div id="vez">
        

        </div>
        <table>
            <tr>
                <td id="c1" class="color"></td>
                <td id="c2" class="color"></td>
                <td id="c3" class="color"></td>
            </tr>
            <tr>
                <td id="c4" class="color"></td>
                <td id="c5" class="color"></td>
                <td id="c6" class="color"></td>
            </tr>
            <tr>
                <td id="c7" class="color"></td>
                <td id="c8" class="color"></td>
                <td id="c9" class="color"></td>
            </tr>
        </table>
        <!-- <button id="rei">reiniciar</button> -->
    </section>






    <script>


        var j1 = window.document.getElementById('jog1')
        var j2 = window.document.getElementById('jog2') 
        var vez = window.document.getElementById('vez')
        var ganhou = false
        var tds=window.document.getElementsByClassName('color')
        var jogadorA='X'

        function atualizaVez() {
            if (jogadorA=='X') {
                 vez.innerHTML=`<i class='bx bx-x'></i>`
            }else{
                vez.innerHTML=`<i class='bx bx-radio-circle'></i>`
            }
        }
        function inverter() {
                if (jogadorA ==='X') {
                    jogadorA='O'
                }
                else{
                    jogadorA='X'
                }
                atualizaVez()
        }
        function verificaGanhador(){
            var comb =[
                [0,1,2],
                [3,4,5],
                [6,7,8],
                [0,3,6],
                [1,4,7],
                [2,5,8],
                [0,4,8],
                [2,4,6],
        ]
            for (var combinacao of comb) {
                var[a,b,c] =combinacao
                if (tds[a].innerHTML ===tds[b].innerHTML && tds[b].innerHTML === tds[c].innerHTML && tds[a].innerHTML !=='') {
                    ganhou = true
                    vez.innerHTML=` ${tds[a].innerHTML}ganhou!`
                    return   
                }
                      
            }
            if ([...tds].every(cell=> cell.innerHTML!=='')) {
                ganhou =true
                vez.innerHTML =` ${tds[a].innerHTML}empate`
                
            }
        }
        function desap() {
        var boas = document.getElementById('boas');
        boas.style.display = 'none'; 
        atualizaVez();

        for (let i = 0; i < tds.length; i++) {
            tds[i].addEventListener('click', function() {
                if (this.innerHTML === '' && !ganhou) {
                    if (jogadorA==='X') {
                    this.innerHTML = `<i class="bx bx-x"></i>`
                    this.style.backgroundColor=' rgba(60, 78, 12, 0.446)'
                    
                   }else{
                    this.innerHTML ='<i class="bx bx-radio-circle"></i>'
                    this.style.backgroundColor=' rgba(79, 17, 17, 0.469)'
                   }
                    verificaGanhador(); 
                    if (!ganhou) {
                        inverter();
                    }
                }
            });
        }
    }
    </script>
</body>
</html>